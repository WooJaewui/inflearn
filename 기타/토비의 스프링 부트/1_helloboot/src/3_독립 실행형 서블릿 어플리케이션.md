
# 독립 실행형 서블릿 어플리케이션

----------------------------------------------------------------------------------------------------------------------------------

> ## 서블릿 컨테이너 띄우기

### Embedded Tomcat 띄우기
    ServletWebServerFactory serverFactory = new TomcatServletWebServerFactory();
    WebServer webServer = serverFactory.getWebServer();
    webServer.start();
- ServletWebServerFactory, WebServer 클래스 추상화를 통해 Tomcat 이외에 Jetty 등의 Server 사용이 가능하다

----------------------------------------------------------------------------------------------------------------------------------

> ## 서블릿 등록

### ServletContextInitializer
- 서블릿 컨테이너가 생성될 때 초기화해야 될 정보 등록 (서블릿 컨테이너에 서블릿들을 등록할 때 사용)


### HttpServlet
- 많은 설정을 생략하고 Servlet을 만들 수 있는 추상 클래스이다
- 이 책에서는 service(request, response) 메서드를 통해 서블릿을 구현 (이외에 doPost, doGet 등 다양한 메서드 존재)


### 정리
    ServletWebServerFactory serverFactory = new TomcatServletWebServerFactory;
    WebServer webServer = serverFactory.getWebServer(servletContext => {
        servletContext.addServlet("서블릿이름", new HttpServlet(() => {
            @Override
            procted void service(HttpServletRequest request, HttpServletResponse response) ... {
                response.setStatus(200);
                response.setHeader("Content-Type", "text/plan");
                PrintWriter writer = response.getWriter();
                writer.write("바디 내용");
            }
        })
    }).addMapping("/url")

    webServer.start();

----------------------------------------------------------------------------------------------------------------------------------

> ## 서블릿 요청 처리

### ENUM 활용하기 
- HttpStatus, HttpHeaders, MediaType 등 Enum 클래스를 활용해서 Status, Header 정보를 작성할 수 있다

----------------------------------------------------------------------------------------------------------------------------------

> ## 프론트 컨트롤러

### 프론트 컨트롤러
- 컨트롤러가 수행되기 전, 후에 공통으로 처리해야 되는 코드들을 한번에 처리하기 위해 만들어 짐 (인증, 보안, 다국어, 공통 기능)

----------------------------------------------------------------------------------------------------------------------------------

> ## Hello 컨트롤러 매핑과 바인딩

### 프론트 컨트롤러 url 매핑
- request.getRequestURI()를 통해 요청 URL을 확인하고, 해당 URL에 맞는 Controller를 매핑해준다


### 바인딩
- 매핑된 Controller()에 파라미터를 넘겼을 때, 해당 컨트롤러에 작성한 코드를 수행하고 리턴 값을 받음

----------------------------------------------------------------------------------------------------------------------------------


























