
# API 개발 기본 

----------------------------------------------------------------------------------------------------------------------------------

> ## 회원 등록 API

### API 개발 팁
- 절대 엔티티를 파라미터로 받지 말자
    - 엔티티에 변경이 일어나면 엔티티를 파라미터로 사용하는 모든 API의 스펙을 변경해야 된다
- 따로 클래스를 하나 만들어주자


### @Data
- @Getter, @Setter, @ToString, @EqualsAndHashCode, @RequiredArgsConstructor를 자동으로 만들어주는 어노테이션

----------------------------------------------------------------------------------------------------------------------------------

> ## 회원 수정 API

### PUT
- 멱등하다
- 이미 DB에 존재하는 데이터를 보내면, 변경되지 않는다 


### 커맨드와 쿼리를 철저히 분리한다
- CQRS Command and Query Responsibility Segregation 명령 조회 책임 분리

----------------------------------------------------------------------------------------------------------------------------------

> ## 회원 조회 API

### 엔티티 Response 문제
- 엔티티를 JSON Response로 반환하면, 엔티티의 스펙이 공개가 된다
- 엔티티가 변경될 때마다 API 스펙이 변경되면 API를 사용하는 부분에서 문제가 발생한다


### @JsonIgnore
- Json 데이터로 변경되지 않는 변수를 만들 수 있다
 

### 결론
- API 응답 스펙에 맞추어 별도의 DTO를 반환해야 한다


### 참고 
- 엔티티를 외부에 노출하지 말자


### Result 클래스 만들기
- 반환 타입을 배열로 하면, 추가적으로 스펙을 추가하기 어렵다 (count, total, .. 등)
- Result 라는 클래스를 만들어서 




























